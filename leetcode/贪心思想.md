# 621. Task Scheduler

题目描述：字符数组代表CPU需要之执行的任务，每个任务用大写字母A到Z表示，相同的任务执行后需要等待n个任务执行，如果尚存任务未执行且CPU在时间片无任务（所有任务需要等待），使用idle表示。求执行全部任务的最短时间。

```
Example:
Input: tasks = ["A","A","A","B","B","B"], n = 2
Output: 8
Explanation: A -> B -> idle -> A -> B -> idle -> A -> B.
```

解题思路：

1.任务列表中频率高的优先执行，需要贪心思想（优先级队列）

2.假设冷却时间为k，每轮需要选k+1个任务，该轮任务执行完，更新该轮执行的每项任务仍需执行次数。

3.如果在一轮结束k>0,说明需要CPU空闲（idle）。

代码如下：

```java
public int leastInterval(char[] tasks, int n) {
        HashMap<Character, Integer> map = new HashMap<>();
        int result = 0;
        for(char c : tasks){
            map.put(c, map.getOrDefault(c,0)+ 1);
        }
        PriorityQueue<Map.Entry<Character,Integer>> queue = new PriorityQueue<>((a,b) -> b.getValue() - a.getValue());
        queue.addAll(map.entrySet());
        while(!queue.isEmpty()){
            int k = n+1;
            List<Map.Entry> tempList = new ArrayList<>();
            while (k > 0 && !queue.isEmpty()) {
                Map.Entry<Character, Integer> top = queue.poll(); // most frequency task
                top.setValue(top.getValue() - 1); // decrease frequency, meaning it got executed
                tempList.add(top); // collect task to add back to queue
                k--;
                result++; //successfully executed task
            }
            for (Map.Entry<Character, Integer> e : tempList) {
                if (e.getValue() > 0) queue.add(e); // add valid tasks 
            }
            if(queue.isEmpty()) break;
            if(k > 0) result += k;
        }
        return result;
    }
```

